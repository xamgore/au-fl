## 1

> Изучить описание синтаксиса вашего второго самого любимого языка программирования. Найти пару особенностей синтаксиса, о которых вы раньше не знали. В отчете указать, где и какую спецификацию читали и привести примерыпрограмм с найденными особенностями. (2 балла)

Смотрим [грамматику Kotlin](https://kotlinlang.org/docs/reference/grammar.html):

<img src="https://i.imgur.com/GV00Y2X.png" width="500">

Видим, что **nullableType** ссылается на **typeReference**, таким образом, можно написать: `String?????`. Семантика такого выражения не очень ясна, но судя по тому, что компилятор выдаёт `Warning:(9, 30) Redundant '?'`, скорее всего это то же самое что и `String?`.

---

<img src="https://i.imgur.com/5FjJfMY.png" width="380">

Видим, что в kotlin есть `operator[]`, который принимает один или более параметров через запятую. И это странно, потому как в той же Java массивы — непрерывный участок памяти, там нет двумерных массивов. Гуглим дальше:

<img src="https://i.imgur.com/p4032ug.png" width="400">

А, просто разумный синтаксический сахар, понятно.

---

## 2

> Провести синтаксический анализ при помощи алгоритма CYK: вручную или реализовать и запустить код. Язык — корректные арифметические выражения над цифрами с операциями `−` и `∗` с естественными приоритетом и ассоциативностью. Проанализировать хотя бы одну корректную цепочку длины не меньше 7 и хотя бы одну некорректную цепочку длины не меньше 7. Результатом должна быть заполненная таблица и дерево вывода (в случае ошибки дерева не должно быть). (3 балла)

Окей, рассмотрим грамматику правильных арифметических выражений:

```
E ⟶ E * T | T
T ⟶ T - V | V
V ⟶ 0 | … | 9
```

Нормализуем по Хомскому:

```
E  ⟶ E E'
E  ⟶ T T'
T  ⟶ T T'
E' ⟶ A T
T' ⟶ M V
E  ⟶ 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
T  ⟶ 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
V  ⟶ 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
M  ⟶ -
A  ⟶ *
```

Возьмём слово `1-2*3-4-`, оно очевидно не принадлежит языку. Проверим by CYK:

<img src="https://i.imgur.com/aPA9fPv.jpg" width="450">

В верхней правой клетке ничего нет, действительно, не принадлежит.

На этой же таблице видно, что слово `1-2*3-4` принадлежит, потому что в верхней правой ячейке есть нетерминал `E`. Построим дерево вывода:

<img src="https://i.imgur.com/e8U2r6o.png" width="450">

## 3

> Реализовать парсер для предложенного вами конкретного синтаксиса языка L (описание языка ниже), используя любимый способ писать парсеры. Не забыть про тесты (8 баллов).

Всё лежит в [репозитории](https://github.com/xamgore/au-fl/) в папке `task04`.

```bash
git clone https://github.com/xamgore/au-fl.git strebz
cd strebz

# install dependencies
cabal install alex happy parsec

# run tests to ensure everything works as expected
alex Lexer.x -o Lexer.hs && happy ./Parser.y -o Parser.hs && runhaskell Parser.hs --test

# run preferred file
runhaskell Parser.hs /path/to/file.txt
```
